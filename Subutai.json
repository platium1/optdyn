{
 "name": "${envName}",
  "containers": [
    {
      "hostname": "mysite",
      "template": "apache",
      "peer-criteria": "HTTP-optdyn",
      "size": "SMALL",
      "count" : "${containerCount}",
      "port-mapping": [
        {
          "protocol": "http",
          "domain": "${domain}",
          "internal-port": "80",
          "external-port": "80"
        },
         {
          "protocol": "tcp",
          "domain": "${domain}",
          "internal-port": "80",
          "external-port": "8080"
        }
      ]
    }
  ],
  "peer-criteria": [
    {
      "name": "HTTP-optdyn"
    }
  ],
  "ansible-configuration": {
  "source-url": "https://github.com/platium1/optdyn/archive/master.zip",
  "ansible-playbook": "main.yml",
  "extra-vars": [],
  "groups": [
            {
                "name": "web",
                "hostnames": [
                    "mysite"
                ]
            }
        ]            
  
  },
  "user-variables": {
    "domain": {
      "description": "Select your domain or create new one",
      "type": "domain",
      "default": "mysite.envs.subutai.cloud",
      "validation": "[a-zA-Z0-9.-]+"
    },
     "envName": {
      "description": "Enter your environment name",
      "type": "string",
      "default": "wordpress env",
      "validation": "[a-zA-Z0-9]+"
    },
   "containerCount": {
      "description": "To search and find the best initial peers for you to select from, enter the maximum GoodWill / hour (GW/h) limit you might be willing to pay while running this application on rented peers? You can still select free peers, your peers, and others based on price before installing the application.",
      "type": "int",
      "default": "50",
      "validation": "\\d+"
    },
  }
}
